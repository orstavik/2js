<script defer src="https://unpkg.com/joicomponents@1.2.28/book/chapter6_layout/demo/SideBar.js"></script>
<script defer type="module" src="../assets/wc/TreeNode.js"></script>
<script defer type="module" src="../assets/wc/BarMenu.js"></script>
<!--<pretty-printer src="/assets/wc/PrettyPrinter.js"></pretty-printer>-->
<script defer src="../assets/events/touchover.js"></script>

<link href="menu.css" rel="stylesheet"/>

<side-bar>
  <bar-menu slot="menu" src="https://orstavik.github.io/JoiComponents/autoDocs/book.json"></bar-menu>
  <div id="container">
    <h1>Hello sunshine</h1>
  </div>
</side-bar>


<script>
  window.addEventListener("hashchange", function () {
    const path = window.location.hash.substr(1);
    debugger;
    const content = document.querySelector("bar-menu").getContent(path);
    document.querySelector("#container").innerHTML = content;
  });
  //todo move TreeNode to its own RecursiveElement chapter. Move the code away from this repo to the JoiComponents repo.
  //todo move touchover to ComposedEvent.
  //todo make the Menu into a web comp. The problem is that it listens for the attribute, so that it needs to set its
  //todo style as a custom css property instead of a variable in the lightDOM, unless we make it into a element that
  //todo replaces itself with a series of treenodes.. A web comp that populates the lightDOM.
</script>