---
#
---
<script defer src="https://unpkg.com/joicomponents@1.2.29/book/chapter6_layout/demo/SideBar.js"></script>
<script type="module" src="assets/wc/TreeNode.js"></script>
<script type="module" src="assets/wc/BarMenu.js"></script>
<script type="module" src="assets/wc/PowerIframe.js"></script>
<!--<pretty-printer src="/assets/wc/PrettyPrinter.js"></pretty-printer>-->
<script defer src="assets/events/touch-hover.js"></script>

<link href="docs/menu.css" rel="stylesheet"/>
<link rel="stylesheet" href="{{ 'assets/css/style.css' | relative_url }}"/>
<style>
  #container {
    background: white;
    padding: 16px 10px 10px 16px;
  }
</style>
<side-bar>
  <bar-menu slot="menu" src="https://orstavik.github.io/JoiComponents/autoDocs/book.json"></bar-menu>
  <power-iframe sandbox="allow-scripts" srcdoc="<i>Hello sunshine</i>"></power-iframe>
</side-bar>


<script>
  window.addEventListener("hashchange", function () {
    const path = window.location.hash.substr(1);
    const base = "https://orstavik.github.io/JoiComponents" + path;
    const content = document.querySelector("bar-menu").getContent(path);
    document.querySelector("power-iframe").setDocument(base, content);
//    document.querySelector("power-iframe").setAttribute("srcdoc", content);
  });
  //todo move PrettyPrinter.js and CodeDemo.js into this chapter.
  //todo move TreeNode to its own RecursiveElement chapter.
  //todo Move the code away from this repo to the JoiComponents repo.
  //todo move touchover to ComposedEvent.
  //todo make the Menu into a web comp. The problem is that it listens for the attribute, so that it needs to set its
  //todo style as a custom css property instead of a variable in the lightDOM, unless we make it into a element that
  //todo replaces itself with a series of treenodes.. A web comp that populates the lightDOM.
</script>
<script src="https://cdn.jsdelivr.net/npm/joievents@1.0.14/src/webcomps/PrettyPrinter.js"></script>
<script src="https://cdn.jsdelivr.net/npm/joievents@1.0.14/src/webcomps/CodeDemo.js"></script>